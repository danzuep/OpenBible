@using Bible.Wasm.Models
@using Bible.Wasm.Pages
@inject NavigationManager Navigation

<MudNavGroup Title="@Title" Expanded="@Expanded" ExpandIcon="@Icons.Material.Filled.ExpandMore">
    <ListGenericItemsTemplate TItem="BibleBookNav" ItemList="@ItemList" Context="book">
        <ItemTemplate>
            <MudNavLink href="@($"{IsoLanguage}/{Version}/{(_isKjvSelected ? book.Name : book.Id)}/1")">@book.Name</MudNavLink>
        </ItemTemplate>
    </ListGenericItemsTemplate>
</MudNavGroup>

@code {
    [Parameter]
    public string? Title { get; set; }

    [Parameter]
    public bool Expanded { get; set; }

    [Parameter]
    public IEnumerable<BibleBookNav>? ItemList { get; set; }

    [CascadingParameter(Name = "SelectedLanguage")]
    public string IsoLanguage { get; set; } = "eng";

    [CascadingParameter(Name = "SelectedVersion")]
    public string Version { get; set; } = "WEBBE";

    private bool _isKjvSelected => IsoLanguage == BookChapter.EngLanguage && Version == BookChapter.KjvVersion;
}