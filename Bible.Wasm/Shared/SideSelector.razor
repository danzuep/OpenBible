@using Bible.Backend.Models
@using Bible.Backend.Services
@using Bible.Razor.Shared
@using Bible.Wasm.Pages
@inject NavigationManager Navigation

<MudNavGroup Title="@Title" Expanded="@Expanded" ExpandIcon="@Icons.Material.Filled.ExpandMore">
    <ListGenericItemsTemplate TItem="BibleBookNav" ItemList="@ItemList" Context="book">
        <ItemTemplate>
            <MudNavLink href="@($"{IsoLanguage}/{Version}/{book.Id}/1")">@book.Name</MudNavLink>
        </ItemTemplate>
    </ListGenericItemsTemplate>
</MudNavGroup>

@code {
    [Parameter]
    public string? Title { get; set; }

    [Parameter]
    public bool Expanded { get; set; }

    [Parameter]
    public IEnumerable<BibleBookNav>? ItemList { get; set; }

    [CascadingParameter(Name = "SelectedLanguage")]
    public string IsoLanguage { get; set; } = BibleBookNavService.DefaultLanguage;

    [CascadingParameter(Name = "SelectedVersion")]
    public string Version { get; set; } = BibleBookNavService.GetVersion(BibleBookNavService.DefaultLanguage);
}