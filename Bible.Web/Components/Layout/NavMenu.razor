@using System.Diagnostics.CodeAnalysis
@using Bible.Core.Models
@using Bible.Web.Models
@using Bible.Web.Services
@using Bible.Web.Components.Shared
@inject IMenuService MenuService

<MudNavMenu>
    <MudNavLink Href="" Match="NavLinkMatch.All">Open Bible</MudNavLink>
    <MudNavLink Href="unihan" Match="NavLinkMatch.Prefix">Unihan Demo</MudNavLink>
    <MudNavLink Href="converter" Match="NavLinkMatch.All">Unihan Converter</MudNavLink>
    <MudNavLink Href="eng/WEBBE/3JN/1" Match="NavLinkMatch.All">WEBBE</MudNavLink>
    <MudNavLink Href="zho-Hant/OCCB/3JN/1" Match="NavLinkMatch.All">OCCB</MudNavLink>
    <MudNavLink Href="zho-Hant/OCCB/3JN/1/stream" Match="NavLinkMatch.All">OCCB stream</MudNavLink>
    <SideSelector Title="Old Testament" ItemList="@oldTestament" />
    <SideSelector Title="New Testament" ItemList="@newTestament" Expanded="true" />
</MudNavMenu>

@code {
    [Parameter]
    public EventCallback<int> SelectionChanged { get; set; }

    private IReadOnlyList<BibleBookNav>? oldTestament;

    private IReadOnlyList<BibleBookNav>? newTestament;

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        oldTestament = MenuService.OldTestamentBooks;
        newTestament = MenuService.NewTestamentBooks;
    }
}
